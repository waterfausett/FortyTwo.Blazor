@using FortyTwo.Shared.Models

@if (Player != null)
{
    <h4>
        @*Player.Id*@
        @GetPlayerName(Player.Id)
        @if (IsActive)
        {
            <span class="active-dot"></span>
        }
    </h4>
    @if (DominoCount != 0)
    {
        <span>@DominoCount</span>
    }
}
else
{
    <div class="alert alert-danger" role="alert">
        This spot is empty :(
    </div>
}


@code {
    [Parameter]
    public Player Player { get; set; }

    [Parameter]
    public bool IsActive { get; set; } = false;

    [Parameter]
    public int DominoCount { get; set; }

    [Inject]
    public IClientStore Store { get; set; }

    public string GetPlayerName(string playerId)
        => Store.Users.FirstOrDefault(x => x.Id == playerId)?.DisplayName ?? $"Unknown Player ({playerId})";
}
